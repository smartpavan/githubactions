name: checkpatch-test

on:
  push:
env:
  GITHUB_CONTEXT: ${{ toJson(github) }}
  run: echo "$GITHUB_CONTEXT"
  
jobs:
  Job1:
    name: target branch checking1
    runs-on: ubuntu-latest
    if: github.event.pull_request.base.ref == 'main'   # check the target branch if it's master
    steps:
        - name: trigger
          run: echo "${{ github.base_ref }}"
               echo "${{github.event.pull_request.base.ref}}"
  Job2:
    name: target branch checking2
    runs-on: ubuntu-latest
    if: github.event.pull_request.base.ref != 'main' # check the target branch if it's master
    steps:
        - name: Git checkout
          uses: actions/checkout@v1
        - name: Branch name
          run: echo running on branch ${GITHUB_REF##*/}
